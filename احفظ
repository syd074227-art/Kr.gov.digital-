<!DOCTYPE html>

<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠ - KR</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a237e;
            --primary-dark: #0d1557;
            --primary-light: #3f51b5;
            --accent: #ff6f00;
            --accent-dark: #e65100;
            --accent-light: #ff9800;
            --health: #2196f3;
            --health-dark: #1976d2;
            --interior: #f44336;
            --interior-dark: #d32f2f;
            --justice: #4caf50;
            --justice-dark: #388e3c;
            --success: #00c853;
            --warning: #ffd600;
            --danger: #d50000;
            --info: #2196f3;
            --dark: #0d1117;
            --dark-card: #161b22;
            --light: #ffffff;
            --gray: #8b949e;
            --gray-light: #c9d1d9;
            --border: rgba(255, 255, 255, 0.1);
            --glass: rgba(255, 255, 255, 0.05);
            --glass-dark: rgba(0, 0, 0, 0.3);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.4);
            --gradient-primary: linear-gradient(135deg, #1a237e 0%, #3f51b5 100%);
            --gradient-accent: linear-gradient(135deg, #ff6f00 0%, #ff9800 100%);
            --gradient-health: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
            --gradient-interior: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            --gradient-justice: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);
            --gradient-dark: linear-gradient(135deg, #0d1117 0%, #1a237e 50%, #0d1117 100%);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', 'Cairo', 'Tajawal', sans-serif; }
        body { background: var(--gradient-dark); min-height: 100vh; color: var(--light); display: flex; justify-content: center; align-items: center; padding: 20px; overflow-x: hidden; position: relative; }
        body::before { content: ''; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at 20% 80%, rgba(33, 150, 243, 0.08) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(244, 67, 54, 0.08) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(76, 175, 80, 0.08) 0%, transparent 50%); pointer-events: none; z-index: 0; }
        .container { width: 100%; max-width: 1200px; background: var(--glass-dark); backdrop-filter: blur(20px); border-radius: 24px; overflow: hidden; border: 1px solid var(--border); box-shadow: var(--shadow-lg); animation: containerAppear 1s cubic-bezier(0.4, 0, 0.2, 1); position: relative; z-index: 1; }
        @keyframes containerAppear { from { opacity: 0; transform: translateY(50px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
        .header { background: var(--gradient-primary); color: white; padding: 50px 30px; text-align: center; position: relative; overflow: hidden; border-bottom: 4px solid var(--accent); }
        .header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, transparent 30%, rgba(255, 111, 0, 0.1) 50%, transparent 70%); animation: headerShine 8s infinite linear; }
        @keyframes headerShine { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
        .logo-container { position: relative; z-index: 1; }
        .logo-icon { width: 100px; height: 100px; margin: 0 auto 25px; background: var(--gradient-accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: logoFloat 6s ease-in-out infinite; box-shadow: 0 15px 40px rgba(255, 111, 0, 0.4); }
        .logo-icon i { font-size: 48px; color: white; }
        @keyframes logoFloat { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(5deg); } }
        .logo h1 { font-size: 38px; font-weight: 800; margin: 0 0 15px 0; background: linear-gradient(135deg, #fff 0%, var(--accent-light) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); }
        .logo p { font-size: 16px; color: rgba(255, 255, 255, 0.9); font-weight: 500; }
        .kr-badge { position: absolute; top: 25px; left: 25px; background: var(--gradient-accent); color: white; padding: 10px 24px; border-radius: 50px; font-weight: 700; font-size: 14px; animation: badgePulse 3s infinite; box-shadow: 0 4px 15px rgba(255, 111, 0, 0.3); letter-spacing: 1px; }
        @keyframes badgePulse { 0%, 100% { transform: scale(1); box-shadow: 0 4px 15px rgba(255, 111, 0, 0.3); } 50% { transform: scale(1.05); box-shadow: 0 6px 20px rgba(255, 111, 0, 0.5); } }
        .content { padding: 50px 40px; }
        .step { background: var(--glass); backdrop-filter: blur(10px); border: 1px solid var(--border); border-radius: 24px; padding: 45px; margin-bottom: 30px; animation: stepAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards; opacity: 0; transform: translateY(30px); }
        .step:nth-child(1) { animation-delay: 0.1s; }
        .step:nth-child(2) { animation-delay: 0.2s; }
        .step:nth-child(3) { animation-delay: 0.3s; }
        .step:nth-child(4) { animation-delay: 0.4s; }
        .step:nth-child(5) { animation-delay: 0.5s; }
        @keyframes stepAppear { to { opacity: 1; transform: translateY(0); } }
        .step-title { color: var(--accent-light); margin-bottom: 40px; display: flex; align-items: center; gap: 20px; font-size: 28px; font-weight: 700; }
        .step-number { width: 65px; height: 65px; background: var(--gradient-accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 26px; color: white; animation: numberGlow 3s infinite; box-shadow: 0 8px 25px rgba(255, 111, 0, 0.4); }
        @keyframes numberGlow { 0%, 100% { box-shadow: 0 8px 25px rgba(255, 111, 0, 0.3); } 50% { box-shadow: 0 12px 35px rgba(255, 111, 0, 0.5); } }
        .input-group { margin-bottom: 30px; position: relative; }
        .input-group label { display: block; margin-bottom: 14px; color: rgba(255, 255, 255, 0.95); font-weight: 600; font-size: 17px; display: flex; align-items: center; gap: 12px; }
        .input-group label i { color: var(--accent); font-size: 20px; width: 24px; text-align: center; }
        .input-group input { width: 100%; padding: 20px 24px; background: rgba(0, 0, 0, 0.3); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 14px; color: white; font-size: 17px; transition: all 0.3s ease; outline: none; }
        .input-group input::placeholder { color: rgba(255, 255, 255, 0.4); }
        .input-group input:focus { border-color: var(--accent); background: rgba(0, 0, 0, 0.4); box-shadow: 0 0 0 4px rgba(255, 111, 0, 0.15); transform: translateY(-2px); }
        .char-counter { position: absolute; left: 20px; bottom: 24px; font-size: 13px; color: rgba(255, 255, 255, 0.5); background: rgba(0, 0, 0, 0.4); padding: 6px 14px; border-radius: 20px; font-weight: 600; transition: all 0.3s; }
        .departments-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 18px; margin: 35px 0; max-width: 800px; margin-left: auto; margin-right: auto; }
        .department-card { background: rgba(255, 255, 255, 0.03); border: 2px solid rgba(255, 255, 255, 0.08); border-radius: 18px; padding: 28px 20px; text-align: center; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden; backdrop-filter: blur(10px); }
        .department-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.03)); opacity: 0; transition: opacity 0.3s; }
        .department-card:hover::before { opacity: 1; }
        .department-card:hover { transform: translateY(-5px); border-color: rgba(255, 255, 255, 0.15); box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3); }
        .department-card.selected { border-color: var(--accent); background: rgba(255, 111, 0, 0.08); transform: translateY(-5px); box-shadow: 0 15px 40px rgba(255, 111, 0, 0.25); }
        .department-card.selected::after { content: '\f00c'; font-family: 'Font Awesome 6 Free'; font-weight: 900; position: absolute; top: 12px; right: 12px; background: var(--accent); color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 13px; animation: checkAppear 0.3s ease; box-shadow: 0 4px 12px rgba(255, 111, 0, 0.4); }
        @keyframes checkAppear { from { transform: scale(0) rotate(-180deg); } to { transform: scale(1) rotate(0deg); } }
        .department-icon { width: 75px; height: 75px; margin: 0 auto 20px; border-radius: 18px; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); transition: all 0.3s ease; }
        .department-card:hover .department-icon { transform: scale(1.05); }
        .department-icon i { font-size: 36px; color: white; }
        .health .department-icon { background: var(--gradient-health); }
        .interior .department-icon { background: var(--gradient-interior); }
        .justice .department-icon { background: var(--gradient-justice); }
        .citizen .department-icon { background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%); }
        .department-card h4 { font-size: 18px; font-weight: 700; margin-bottom: 8px; color: var(--light); }
        .department-card small { font-size: 13px; color: var(--gray-light); font-weight: 500; display: block; line-height: 1.4; }
        .ranks-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 18px; margin-top: 30px; max-height: 550px; overflow-y: auto; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 16px; }
        .ranks-grid::-webkit-scrollbar { width: 10px; }
        .ranks-grid::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); border-radius: 5px; }
        .ranks-grid::-webkit-scrollbar-thumb { background: var(--gradient-accent); border-radius: 5px; }
        .ranks-grid::-webkit-scrollbar-thumb:hover { background: var(--accent-dark); }
        .rank-item { background: rgba(0, 0, 0, 0.3); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 14px; padding: 22px 18px; text-align: center; cursor: pointer; transition: all 0.3s ease; color: rgba(255, 255, 255, 0.9); font-weight: 600; font-size: 15px; position: relative; }
        .rank-item:hover { border-color: var(--accent); transform: translateY(-4px); box-shadow: 0 8px 20px rgba(255, 111, 0, 0.25); background: rgba(255, 111, 0, 0.05); }
        .rank-item.selected { background: linear-gradient(135deg, rgba(255, 111, 0, 0.25), rgba(26, 35, 126, 0.3)); border-color: var(--accent); color: white; font-weight: 700; transform: translateY(-4px); }
        .rank-item.selected::before { content: '\f005'; font-family: 'Font Awesome 6 Free'; font-weight: 900; position: absolute; top: 8px; right: 8px; color: var(--accent); font-size: 14px; }
        .additionals-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 22px; margin: 35px 0; }
        .additional-item { background: rgba(0, 0, 0, 0.25); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 28px 24px; cursor: pointer; transition: all 0.3s ease; position: relative; }
        .additional-item:hover { border-color: var(--accent); transform: translateY(-5px); box-shadow: 0 10px 25px rgba(255, 111, 0, 0.2); background: rgba(255, 111, 0, 0.05); }
        .additional-item.selected { background: linear-gradient(135deg, rgba(255, 111, 0, 0.15), rgba(26, 35, 126, 0.25)); border-color: var(--accent); transform: translateY(-5px); }
        .additional-item.selected::after { content: '\f00c'; font-family: 'Font Awesome 6 Free'; font-weight: 900; position: absolute; top: 15px; left: 15px; background: var(--accent); color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 13px; }
        .additional-item label { display: flex; align-items: center; gap: 14px; cursor: pointer; color: rgba(255, 255, 255, 0.95); font-weight: 600; font-size: 16px; }
        .additional-item label i { color: var(--accent); font-size: 22px; width: 28px; text-align: center; }
        .additional-item input { display: none; }
        .btn { background: var(--gradient-accent); color: white; border: none; padding: 22px 45px; border-radius: 16px; font-size: 18px; font-weight: 700; cursor: pointer; transition: all 0.4s ease; display: flex; align-items: center; justify-content: center; gap: 15px; width: 100%; margin-top: 35px; animation: btnGlow 3s infinite; letter-spacing: 0.5px; }
        @keyframes btnGlow { 0%, 100% { box-shadow: 0 10px 35px rgba(255, 111, 0, 0.35); } 50% { box-shadow: 0 15px 45px rgba(255, 111, 0, 0.5); } }
        .btn:hover { transform: translateY(-6px); box-shadow: 0 20px 50px rgba(255, 111, 0, 0.5); }
        .btn:active { transform: translateY(-3px); }
        .btn i { font-size: 20px; }
        .btn-secondary { background: rgba(255, 255, 255, 0.08); color: white; border: 2px solid rgba(255, 255, 255, 0.2); animation: none; box-shadow: none; }
        .btn-secondary:hover { background: rgba(255, 255, 255, 0.15); border-color: rgba(255, 255, 255, 0.3); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); }
        .btn-group { display: flex; gap: 25px; margin-top: 40px; }
        .btn-group .btn { flex: 1; margin-top: 0; }
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 22px; margin: 35px 0; }
        .summary-item { background: rgba(0, 0, 0, 0.3); padding: 25px; border-radius: 18px; border-left: 5px solid var(--accent); transition: all 0.3s ease; }
        .summary-item:hover { transform: translateX(-5px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); }
        .summary-item .label { color: rgba(255, 255, 255, 0.65); font-size: 14px; margin-bottom: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .summary-item .value { color: white; font-size: 19px; font-weight: 700; }
        .status-message, .alert, .success-message { display: none; padding: 35px; border-radius: 20px; margin-bottom: 30px; text-align: center; animation: messageAppear 0.5s ease; border: 2px solid transparent; }
        .status-message.show, .alert.show, .success-message.show { display: block; }
        @keyframes messageAppear { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
        .alert.success { background: linear-gradient(135deg, rgba(0, 200, 83, 0.15), rgba(0, 150, 63, 0.15)); border-color: var(--success); color: var(--success); }
        .alert.warning { background: linear-gradient(135deg, rgba(255, 214, 0, 0.15), rgba(255, 193, 7, 0.15)); border-color: var(--warning); color: var(--warning); }
        .alert.danger { background: linear-gradient(135deg, rgba(213, 0, 0, 0.15), rgba(183, 28, 28, 0.15)); border-color: var(--danger); color: var(--danger); }
        .success-message { background: var(--glass); backdrop-filter: blur(20px); border: 1px solid var(--border); }
        .success-message i.fa-check-circle { color: var(--success); filter: drop-shadow(0 0 20px rgba(0, 200, 83, 0.5)); }
        .terms-container { background: rgba(255, 111, 0, 0.06); border-radius: 18px; padding: 30px; margin: 35px 0; border: 1px solid rgba(255, 111, 0, 0.2); }
        .terms-header { display: flex; align-items: center; gap: 15px; margin-bottom: 25px; }
        .terms-header i { color: var(--accent); font-size: 26px; }
        .terms-header h4 { color: var(--accent-light); font-size: 20px; font-weight: 700; }
        .term-item { display: flex; align-items: flex-start; gap: 15px; margin-bottom: 18px; padding: 18px; background: rgba(0, 0, 0, 0.25); border-radius: 12px; transition: all 0.3s ease; }
        .term-item:hover { background: rgba(0, 0, 0, 0.35); transform: translateX(-5px); }
        .term-item input[type="checkbox"] { margin-top: 5px; width: 20px; height: 20px; cursor: pointer; accent-color: var(--accent); }
        .term-item label { color: rgba(255, 255, 255, 0.95); cursor: pointer; font-weight: 500; font-size: 15px; line-height: 1.6; }
        .file-upload-container { margin-top: 12px; }
        .file-upload-label { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px 30px; background: rgba(0, 0, 0, 0.2); border: 2px dashed rgba(255, 255, 255, 0.2); border-radius: 16px; cursor: pointer; transition: all 0.3s ease; text-align: center; }
        .file-upload-label:hover { background: rgba(0, 0, 0, 0.3); border-color: var(--accent); transform: translateY(-3px); }
        .file-upload-label i { font-size: 48px; color: var(--accent); margin-bottom: 15px; }
        .file-upload-label span { font-size: 17px; font-weight: 600; color: var(--light); margin-bottom: 8px; }
        .file-upload-label small { font-size: 13px; color: var(--gray-light); }
        .image-preview { display: none; margin-top: 20px; position: relative; }
        .image-preview.show { display: block; }
        .image-preview img { width: 100%; max-width: 500px; border-radius: 16px; border: 3px solid var(--accent); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); }
        .image-preview .remove-image { position: absolute; top: 10px; right: 10px; background: var(--danger); color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 18px; transition: all 0.3s; box-shadow: 0 4px 15px rgba(213, 0, 0, 0.4); }
        .image-preview .remove-image:hover { background: #b71c1c; transform: scale(1.1); }
        .image-preview .image-info { margin-top: 12px; padding: 12px; background: rgba(0, 200, 83, 0.1); border-radius: 10px; text-align: center; }
        .image-preview .image-info i { color: var(--success); margin-left: 8px; }
        .image-preview .image-info span { color: var(--success); font-weight: 600; }
        @media (max-width: 768px) {
            .container { max-width: 95%; border-radius: 20px; }
            .header { padding: 35px 20px; }
            .logo h1 { font-size: 28px; }
            .logo-icon { width: 80px; height: 80px; }
            .logo-icon i { font-size: 38px; }
            .kr-badge { top: 15px; left: 15px; padding: 8px 18px; font-size: 12px; }
            .content { padding: 30px 20px; }
            .step { padding: 30px 20px; }
            .step-title { font-size: 22px; }
            .step-number { width: 55px; height: 55px; font-size: 22px; }
            .departments-grid { grid-template-columns: 1fr; gap: 15px; }
            .ranks-grid, .additionals-grid, .summary-grid { grid-template-columns: 1fr; }
            .department-icon { width: 70px; height: 70px; }
            .department-icon i { font-size: 32px; }
            .btn-group { flex-direction: column; }
            .btn { font-size: 16px; padding: 18px 35px; }
        }
        @media (max-width: 480px) {
            .logo h1 { font-size: 24px; }
            .step-title { font-size: 20px; flex-direction: column; text-align: center; }
            .input-group input { padding: 18px 20px; font-size: 16px; }
            .department-card { padding: 25px 20px; }
            .department-card h4 { font-size: 17px; }
            .file-upload-label { padding: 30px 20px; }
            .file-upload-label i { font-size: 40px; }
            .image-preview img { max-width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="kr-badge">
                <i class="fas fa-crown"></i> KR OFFICIAL
            </div>
            <div class="logo-container">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-id-card"></i>
                    </div>
                    <h1>Ù†Ø¸Ø§Ù… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠ</h1>
                    <p><i class="fas fa-shield-alt"></i> Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„Ø© - KR</p>
                </div>
            </div>
        </div>

```
    <div class="content">
        <div id="previousRequestMessage" class="status-message"></div>
        <div class="alert" id="alertBox"></div>
        
        <div id="applicationForm" style="display: none;">
            <div class="step" id="step1">
                <div class="step-title">
                    <div class="step-number">1</div>
                    <span><i class="fas fa-user-circle"></i> Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</span>
                </div>
                
                <div class="input-group">
                    <label>
                        <i class="fas fa-user"></i>
                        <span>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ø«Ù„Ø§Ø«ÙŠ</span>
                    </label>
                    <input type="text" id="fullName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø¨Ù† ÙÙ‡Ø¯ Ø§Ù„Ø­Ø±Ø¨ÙŠ">
                </div>
                
                <div class="input-group">
                    <label>
                        <i class="fas fa-calendar-alt"></i>
                        <span>Ø§Ù„Ø¹Ù…Ø±</span>
                    </label>
                    <input type="number" id="age" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù…Ø±Ùƒ (18 Ø³Ù†Ø© ÙØ£ÙƒØ«Ø±)" min="18" max="99">
                </div>
                
                <div class="input-group">
                    <label>
                        <i class="fas fa-gamepad"></i>
                        <span>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©</span>
                    </label>
                    <input type="text" id="gameUsername" placeholder="Ù…Ø«Ø§Ù„: Ahmed_KR" dir="ltr">
                </div>
                
                <div class="input-group">
                    <label>
                        <i class="fab fa-discord"></i>
                        <span>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</span>
                    </label>
                    <input type="text" id="discordUsername" placeholder="Ù…Ø«Ø§Ù„: Ahmed#1234" dir="ltr">
                </div>
                
                <div class="input-group">
                    <label>
                        <i class="fas fa-fingerprint"></i>
                        <span>Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©</span>
                    </label>
                    <input type="text" id="gameId" placeholder="Ø£Ø¯Ø®Ù„ 10 Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·" 
                           maxlength="10" dir="ltr" oninput="validateGameId(this)">
                    <div class="char-counter" id="gameIdCounter">0/10</div>
                    
                    <div style="margin-top: 15px; padding: 15px; background: rgba(33, 150, 243, 0.1); border-radius: 12px; border: 1px solid rgba(33, 150, 243, 0.2);">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <i class="fas fa-info-circle" style="color: #2196f3;"></i>
                            <strong style="color: #2196f3;">Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:</strong>
                        </div>
                        <a href="https://image2url.com/r2/default/images/1769805384049-10717217-5fab-4b62-a7c3-63bf1ced898c.jpeg" 
                           target="_blank" 
                           style="display: block; margin-top: 10px;">
                            <img src="https://image2url.com/r2/default/images/1769805384049-10717217-5fab-4b62-a7c3-63bf1ced898c.jpeg" 
                                 alt="Ù…Ø«Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©" 
                                 style="width: 100%; max-width: 400px; border-radius: 8px; border: 2px solid rgba(33, 150, 243, 0.3); cursor: pointer; transition: all 0.3s;">
                        </a>
                        <small style="display: block; margin-top: 8px; color: var(--gray-light);">
                            <i class="fas fa-mouse-pointer"></i> Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ø¨Ø­Ø¬Ù… Ø£ÙƒØ¨Ø±
                        </small>
                    </div>
                </div>
                
                <div class="input-group">
                    <label>
                        <i class="fas fa-id-card"></i>
                        <span>Ù‚Ù… Ø¨Ø¥Ø±ÙØ§Ù‚ Ù‡ÙˆÙŠØªÙƒ Ø§Ù„ÙˆØ·Ù†ÙŠØ© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø©</span>
                    </label>
                    <div class="file-upload-container">
                        <input type="file" id="nationalIdImage" accept="image/*" onchange="handleImageUpload(this, 'nationalIdPreview')" style="display: none;">
                        <label for="nationalIdImage" class="file-upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Ø§Ø¶ØºØ· Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±Ø©</span>
                            <small>PNG, JPG, JPEG (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: 5MB)</small>
                        </label>
                        <div id="nationalIdPreview" class="image-preview"></div>
                    </div>
                    
                    <div style="margin-top: 15px; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 12px; border: 1px solid rgba(76, 175, 80, 0.2);">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <i class="fas fa-info-circle" style="color: #4caf50;"></i>
                            <strong style="color: #4caf50;">Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</strong>
                        </div>
                        <a href="https://image2url.com/r2/default/images/1769805658220-13fbc5c4-b22b-4b75-81cf-9d53e13bb9e1.jpeg" 
                           target="_blank" 
                           style="display: block; margin-top: 10px;">
                            <img src="https://image2url.com/r2/default/images/1769805658220-13fbc5c4-b22b-4b75-81cf-9d53e13bb9e1.jpeg" 
                                 alt="Ù…Ø«Ø§Ù„ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©" 
                                 style="width: 100%; max-width: 400px; border-radius: 8px; border: 2px solid rgba(76, 175, 80, 0.3); cursor: pointer; transition: all 0.3s;">
                        </a>
                        <small style="display: block; margin-top: 8px; color: var(--gray-light);">
                            <i class="fas fa-mouse-pointer"></i> Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ø¨Ø­Ø¬Ù… Ø£ÙƒØ¨Ø±
                        </small>
                    </div>
                </div>
                
                <div class="input-group">
                    <label>
                        <i class="fas fa-camera"></i>
                        <span>Ù‚Ù… Ø¨ØªØµÙˆÙŠØ± Ø´Ø®ØµÙŠØªÙƒ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø©</span>
                    </label>
                    <div class="file-upload-container">
                        <input type="file" id="characterImage" accept="image/*" onchange="handleImageUpload(this, 'characterPreview')" style="display: none;">
                        <label for="characterImage" class="file-upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Ø§Ø¶ØºØ· Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±Ø©</span>
                            <small>PNG, JPG, JPEG (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: 5MB)</small>
                        </label>
                        <div id="characterPreview" class="image-preview"></div>
                    </div>
                    
                    <div style="margin-top: 15px; padding: 15px; background: rgba(255, 152, 0, 0.1); border-radius: 12px; border: 1px solid rgba(255, 152, 0, 0.2);">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <i class="fas fa-exclamation-triangle" style="color: #ff9800;"></i>
                            <strong style="color: #ff9800;">ØªÙ†Ø¨ÙŠÙ‡ Ù…Ù‡Ù…:</strong>
                        </div>
                        <p style="color: var(--gray-light); margin-bottom: 12px; font-size: 14px;">
                            <i class="fas fa-ban" style="color: #f44336;"></i>
                            ÙŠÙÙ…Ù†Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø£Ùˆ Ø§Ù„Ù‚Ø¨Ø¹Ø§Øª ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©
                        </p>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <i class="fas fa-info-circle" style="color: #ff9800;"></i>
                            <strong style="color: #ff9800;">Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</strong>
                        </div>
                        <a href="https://image2url.com/r2/default/images/1769805924361-f7311e74-b60a-4726-b2e8-8e8678948984.jpeg" 
                           target="_blank" 
                           style="display: block; margin-top: 10px;">
                            <img src="https://image2url.com/r2/default/images/1769805924361-f7311e74-b60a-4726-b2e8-8e8678948984.jpeg" 
                                 alt="Ù…Ø«Ø§Ù„ ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©" 
                                 style="width: 100%; max-width: 400px; border-radius: 8px; border: 2px solid rgba(255, 152, 0, 0.3); cursor: pointer; transition: all 0.3s;">
                        </a>
                        <small style="display: block; margin-top: 8px; color: var(--gray-light);">
                            <i class="fas fa-mouse-pointer"></i> Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ø¨Ø­Ø¬Ù… Ø£ÙƒØ¨Ø±
                        </small>
                    </div>
                </div>
                
                <button class="btn" onclick="validateStep1()">
                    <span>Ø§Ù„ØªØ§Ù„ÙŠ</span>
                    <i class="fas fa-arrow-left"></i>
                </button>
            </div>
            
            <div class="step" id="step2" style="display: none;">
                <div class="step-title">
                    <div class="step-number">2</div>
                    <span><i class="fas fa-id-badge"></i> Ø§Ø®ØªØ± Ø§Ù„ØªØµÙ†ÙŠÙ</span>
                </div>
                
                <p style="text-align: center; color: var(--gray-light); margin-bottom: 35px; font-size: 16px;">
                    <i class="fas fa-info-circle"></i>
                    Ø§Ø®ØªØ± Ø§Ù„ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„ Ø¨Ù‡Ø§ØŒ Ø£Ùˆ Ø§Ø®ØªØ± "Ù…ÙˆØ§Ø·Ù†" Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¸ÙØ§Ù‹ Ø­ÙƒÙˆÙ…ÙŠØ§Ù‹
                </p>
                
                <div class="departments-grid">
                    <div class="department-card health" onclick="selectDepartment(this, 'health')">
                        <div class="department-icon">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                        <h4>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©</h4>
                        <small>Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø·Ø¨ÙŠ ÙˆØ§Ù„Ø¥Ø³Ø¹Ø§ÙÙŠ</small>
                    </div>
                    
                    <div class="department-card interior" onclick="selectDepartment(this, 'interior')">
                        <div class="department-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4>ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©</h4>
                        <small>Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø£Ù…Ù†ÙŠ ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©</small>
                    </div>
                    
                    <div class="department-card justice" onclick="selectDepartment(this, 'justice')">
                        <div class="department-icon">
                            <i class="fas fa-gavel"></i>
                        </div>
                        <h4>ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¹Ø¯Ù„</h4>
                        <small>Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù‚Ø¶Ø§Ø¦ÙŠ ÙˆØ§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ</small>
                    </div>
                    
                    <div class="department-card citizen" onclick="selectDepartment(this, 'citizen')">
                        <div class="department-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        <h4>Ù…ÙˆØ§Ø·Ù†</h4>
                        <small>Ù„Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† ØºÙŠØ± Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</small>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="goBackToStep1()">
                        <i class="fas fa-arrow-right"></i>
                        <span>Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
                    </button>
                    <button class="btn" onclick="showStep3()">
                        <span>Ø§Ù„ØªØ§Ù„ÙŠ</span>
                        <i class="fas fa-arrow-left"></i>
                    </button>
                </div>
            </div>
            
            <div class="step" id="step3" style="display: none;">
                <div class="step-title">
                    <div class="step-number">3</div>
                    <span><i class="fas fa-medal"></i> Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø±ØªØ¨Ø©</span>
                </div>
                
                <div id="ranksContainer"></div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="goBackToStep2()">
                        <i class="fas fa-arrow-right"></i>
                        <span>Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
                    </button>
                    <button class="btn" onclick="showStep4()">
                        <span>Ø§Ù„ØªØ§Ù„ÙŠ</span>
                        <i class="fas fa-arrow-left"></i>
                    </button>
                </div>
            </div>
            
            <div class="step" id="step4" style="display: none;">
                <div class="step-title">
                    <div class="step-number">4</div>
                    <span><i class="fas fa-briefcase"></i> Ø§Ù„Ù…Ù†Ø§ØµØ¨ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©</span>
                </div>
                
                <div id="additionalContainer"></div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="goBackToStep3()">
                        <i class="fas fa-arrow-right"></i>
                        <span>Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
                    </button>
                    <button class="btn" onclick="showStep5()">
                        <span>Ø§Ù„ØªØ§Ù„ÙŠ</span>
                        <i class="fas fa-arrow-left"></i>
                    </button>
                </div>
            </div>
            
            <div class="step" id="step5" style="display: none;">
                <div class="step-title">
                    <div class="step-number">5</div>
                    <span><i class="fas fa-check-double"></i> ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</span>
                </div>
                
                <div class="summary-grid" id="requestSummary"></div>
                
                <div class="terms-container">
                    <div class="terms-header">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h4>Ø´Ø±ÙˆØ· Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù…</h4>
                    </div>
                    
                    <div class="term-item">
                        <input type="checkbox" id="agreeTerms1">
                        <label for="agreeTerms1">
                            <i class="fas fa-check-circle"></i>
                            Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ ØµØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø© ÙˆØ£ØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø¹Ù† ØµØ­ØªÙ‡Ø§
                        </label>
                    </div>
                    
                    <div class="term-item">
                        <input type="checkbox" id="agreeTerms2">
                        <label for="agreeTerms2">
                            <i class="fas fa-file-contract"></i>
                            Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø£Ù†Ø¸Ù…Ø© ÙˆÙ‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© KR Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„
                        </label>
                    </div>
                    
                    <div class="term-item">
                        <input type="checkbox" id="agreeTerms3">
                        <label for="agreeTerms3">
                            <i class="fas fa-balance-scale"></i>
                            Ø£Ù‚Ø± Ø¨Ø£Ù† Ø£ÙŠ Ù…Ø®Ø§Ù„ÙØ© Ø£Ùˆ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø®Ø§Ø·Ø¦Ø© Ø³ØªØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨ Ø£Ùˆ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙØ¹ÙŠÙ„
                        </label>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="goBackToStep4()">
                        <i class="fas fa-arrow-right"></i>
                        <span>Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
                    </button>
                    <button class="btn" onclick="submitRequest()">
                        <i class="fas fa-paper-plane"></i>
                        <span>Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</span>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="success-message" id="successMessage" style="display: none;">
            <i class="fas fa-check-circle" style="font-size: 90px; margin-bottom: 35px;"></i>
            <h3 style="font-size: 34px; margin-bottom: 20px; font-weight: 800;">ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! âœ¨</h3>
            <p style="font-size: 18px; margin-bottom: 35px; color: var(--gray-light);">
                <i class="fas fa-clock"></i>
                Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ù„Ø¨Ùƒ Ø®Ù„Ø§Ù„ 24-48 Ø³Ø§Ø¹Ø© Ø¹Ù…Ù„
            </p>
            <div id="successDetails"></div>
            <div class="btn-group" style="max-width: 650px; margin: 45px auto 0;">
                <button class="btn" onclick="checkRequestStatus()">
                    <i class="fas fa-sync-alt"></i>
                    <span>ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</span>
                </button>
                <button class="btn btn-secondary" onclick="goToHomePage()">
                    <i class="fas fa-home"></i>
                    <span>Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    const DEPARTMENTS = {
        health: {
            name: 'ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©',
            color: '#2196f3',
            icon: 'fa-heartbeat',
            ranks: [
                'Ù…Ø³Ø¹Ù', 'Ù…Ø³Ø¹Ù Ø£ÙˆÙ„', 'Ù…Ù…Ø±Ø¶', 'Ù…Ù…Ø±Ø¶ Ø£ÙˆÙ„', 'ÙÙ†ÙŠ ØµØ­ÙŠ', 
                'ÙÙ†ÙŠ ØµØ­ÙŠ Ø£ÙˆÙ„', 'Ø£Ø®ØµØ§Ø¦ÙŠ', 'Ù…Ø³Ø§Ø¹Ø¯ Ø¬Ø±Ø§Ø­', 'Ø¯ÙƒØªÙˆØ± Ø¹Ø§Ù…', 
                'Ø¯ÙƒØªÙˆØ±', 'Ø§Ø³ØªØ´Ø§Ø±ÙŠ', 'Ø¬Ø±Ø§Ø­', 'Ø±Ø¦ÙŠØ³ Ø§Ø³ØªØ´Ø§Ø±ÙŠ', 'Ù…Ø¯ÙŠØ± Ø·Ø¨ÙŠ',
                'Ù…Ø³ØªØ´Ø§Ø± ÙˆØ²ÙŠØ± Ø§Ù„ØµØ­Ø©', 'Ù†Ø§Ø¦Ø¨ ÙˆØ²ÙŠØ± Ø§Ù„ØµØ­Ø©', 'ÙˆØ²ÙŠØ± Ø§Ù„ØµØ­Ø©'
            ],
            additionals: [
                'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„',
                'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„ØµØ­ÙŠØ©',
                'Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„ØµØ­ÙŠØ©',
                'Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØ·ÙˆØ¹ÙŠÙ† Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø£Ø­Ù…Ø±',
                'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´ÙƒØ§ÙˆÙŠ Ø¨ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©',
                'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©'
            ]
        },
        interior: {
            name: 'ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©',
            color: '#f44336',
            icon: 'fa-shield-alt',
            ranks: [
                'Ø¬Ù†Ø¯ÙŠ', 'Ø¬Ù†Ø¯ÙŠ Ø£ÙˆÙ„', 'Ø¹Ø±ÙŠÙ', 'ÙˆÙƒÙŠÙ„ Ø±Ù‚ÙŠØ¨', 'Ø±Ù‚ÙŠØ¨', 
                'Ø±Ù‚ÙŠØ¨ Ø£ÙˆÙ„', 'Ø±Ø¦ÙŠØ³ Ø±Ù‚Ø¨Ø§Ø¡', 'Ù…Ù„Ø§Ø²Ù…', 'Ù…Ù„Ø§Ø²Ù… Ø£ÙˆÙ„', 
                'Ù†Ù‚ÙŠØ¨', 'Ø±Ø§Ø¦Ø¯', 'Ù…Ù‚Ø¯Ù…', 'Ø¹Ù‚ÙŠØ¯', 'Ø¹Ù…ÙŠØ¯', 'Ù„ÙˆØ§Ø¡',
                'ÙØ±ÙŠÙ‚', 'ÙØ±ÙŠÙ‚ Ø£ÙˆÙ„', 'Ù†Ø§Ø¦Ø¨ Ù…Ø¯ÙŠØ± Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø¹Ø§Ù…',
                'Ù…Ø¯ÙŠØ± Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø¹Ø§Ù…', 'Ù†Ø§Ø¦Ø¨ ÙˆØ²ÙŠØ± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©', 'ÙˆØ²ÙŠØ± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©'
            ],
            additionals: [
                'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ¬Ù†ÙŠØ¯',
                'Ø¥Ø¯Ø§Ø±Ø© Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©',
                'Ø¥Ø¯Ø§Ø±Ø© Ø´Ø¤ÙˆÙ† Ø§Ù„Ø£ÙØ±Ø§Ø¯ Ø³Ù„Ùƒ Ø§Ù„Ø¶Ø¨Ø§Ø·',
                'Ø§Ù„Ø§Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©',
                'Ø§Ø¯Ø§Ø±Ø© Ø§Ù„Ø´ÙƒØ§ÙˆÙŠ Ø¨ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©'
            ]
        },
        justice: {
            name: 'ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¹Ø¯Ù„',
            color: '#4caf50',
            icon: 'fa-gavel',
            ranks: [
                'Ù…Ø­Ø§Ù…ÙŠ', 'Ù…Ø­Ø§Ù…ÙŠ Ø®Ø¨ÙŠØ±', 'Ù…Ø­Ø§Ù…ÙŠ Ù…ØªÙ…Ø±Ø³', 'Ù‚Ø§Ø¶ÙŠ', 
                'Ù‚Ø§Ø¶ÙŠ Ù…ØªÙ…Ø±Ø³', 'Ù‚Ø§Ø¶ÙŠ Ø®Ø¨ÙŠØ±', 'Ù‚Ø§Ø¶ÙŠ Ù…Ø­ÙƒÙ…Ø© Ø¹Ù„ÙŠØ§',
                'Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§', 'Ù…Ø³ØªØ´Ø§Ø± ÙˆØ²ÙŠØ± Ø§Ù„Ø¹Ø¯Ù„', 
                'Ù†Ø§Ø¦Ø¨ ÙˆØ²ÙŠØ± Ø§Ù„Ø¹Ø¯Ù„', 'ÙˆØ²ÙŠØ± Ø§Ù„Ø¹Ø¯Ù„'
            ],
            additionals: [
                'Ø§Ù„Ø§Ø¯Ø§Ø±Ù‡ Ø§Ù„Ø¹Ø§Ù…Ù‡ Ù„Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¹Ø¯Ù„ÙŠØ©',
                'Ø§Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„',
                'Ø§Ø¯Ø§Ø±Ø© Ø§Ù„Ø´ÙƒØ§ÙˆÙŠ Ø¨ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¹Ø¯Ù„'
            ]
        },
        citizen: {
            name: 'Ù…ÙˆØ§Ø·Ù†',
            color: '#9c27b0',
            icon: 'fa-user',
            ranks: ['Ù…ÙˆØ§Ø·Ù†'],
            additionals: []
        }
    };

    let selectedDepartment = null;
    let selectedRank = null;
    let selectedAdditionals = [];
    let hasExistingRequest = false;
    let existingRequestData = null;
    let uploadedNationalId = null;
    let uploadedCharacterImage = null;

    document.addEventListener('DOMContentLoaded', function() {
        console.log('ğŸš€ Ù†Ø¸Ø§Ù… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠ - Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„');
        checkExistingRequest();
        setupGameIdField();
    });

    function checkExistingRequest() {
        const requests = JSON.parse(localStorage.getItem('admin_pending_requests') || '[]');
        const deviceId = getDeviceId();
        
        const userRequests = requests.filter(req => req.deviceId === deviceId);
        
        if (userRequests.length > 0) {
            const latestRequest = userRequests.sort((a, b) => 
                new Date(b.submissionDate) - new Date(a.submissionDate)
            )[0];
            
            existingRequestData = latestRequest;
            hasExistingRequest = true;
            
            if (latestRequest.status === 'pending' || latestRequest.status === 'accepted') {
                showExistingRequest(latestRequest);
                return;
            }
        }
        
        document.getElementById('applicationForm').style.display = 'block';
    }

    function showExistingRequest(request) {
        const messageDiv = document.getElementById('previousRequestMessage');
        const formDiv = document.getElementById('applicationForm');
        
        let statusText, statusClass, statusIcon, statusColor;
        
        if (request.status === 'pending') {
            statusText = 'Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©';
            statusClass = 'warning';
            statusIcon = 'clock';
            statusColor = 'var(--warning)';
        } else if (request.status === 'accepted') {
            statusText = 'ØªÙ… ØªÙØ¹ÙŠÙ„ Ù‡ÙˆÙŠØªÙƒ Ø¨Ù†Ø¬Ø§Ø­';
            statusClass = 'success';
            statusIcon = 'check-circle';
            statusColor = 'var(--success)';
        } else {
            statusText = 'ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨Ùƒ';
            statusClass = 'danger';
            statusIcon = 'times-circle';
            statusColor = 'var(--danger)';
        }
        
        messageDiv.innerHTML = `
            <i class="fas fa-${statusIcon}" style="font-size: 80px; margin-bottom: 30px; color: ${statusColor};"></i>
            <h2 style="font-size: 32px; margin-bottom: 25px;">${statusText}</h2>
            <div style="background: rgba(0,0,0,0.3); border-radius: 16px; padding: 25px; margin: 30px 0;">
                <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <span><i class="fas fa-hashtag"></i> Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</span>
                    <strong>${request.id}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <span><i class="fas fa-calendar"></i> Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                    <span>${request.date}</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 12px 0;">
                    <span><i class="fas fa-info-circle"></i> Ø§Ù„Ø­Ø§Ù„Ø©:</span>
                    <span style="color: ${statusColor}; font-weight: 700;">
                        ${request.status === 'accepted' ? 'Ù…Ù‚Ø¨ÙˆÙ„ âœ“' : 
                          request.status === 'pending' ? 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© â±' : 'Ù…Ø±ÙÙˆØ¶ âœ—'}
                    </span>
                </div>
            </div>
            ${request.status === 'rejected' ? `
                <button class="btn" onclick="startNewRequest()">
                    <i class="fas fa-redo"></i>
                    <span>ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</span>
                </button>
            ` : ''}
        `;
        
        messageDiv.className = `status-message show ${statusClass}`;
        messageDiv.style.background = 'var(--glass)';
        messageDiv.style.backdropFilter = 'blur(20px)';
        messageDiv.style.border = `2px solid ${statusColor}`;
        
        formDiv.style.display = 'none';
    }

    function startNewRequest() {
        document.getElementById('previousRequestMessage').style.display = 'none';
        document.getElementById('applicationForm').style.display = 'block';
        hasExistingRequest = false;
        existingRequestData = null;
        
        document.getElementById('fullName').value = '';
        document.getElementById('age').value = '';
        document.getElementById('gameUsername').value = '';
        document.getElementById('discordUsername').value = '';
        document.getElementById('gameId').value = '';
        
        selectedDepartment = null;
        selectedRank = null;
        selectedAdditionals = [];
        
        document.getElementById('step1').style.display = 'block';
        document.getElementById('step2').style.display = 'none';
        document.getElementById('step3').style.display = 'none';
        document.getElementById('step4').style.display = 'none';
        document.getElementById('step5').style.display = 'none';
        
        resetDepartmentSelection();
    }

    function setupGameIdField() {
        const gameIdInput = document.getElementById('gameId');
        const counter = document.getElementById('gameIdCounter');
        
        gameIdInput.addEventListener('input', function() {
            let value = this.value.replace(/\D/g, '');
            value = value.slice(0, 10);
            this.value = value;
            counter.textContent = `${value.length}/10`;
            
            if (value.length === 10) {
                counter.style.color = 'var(--success)';
                counter.style.background = 'rgba(0, 200, 83, 0.2)';
            } else {
                counter.style.color = 'rgba(255, 255, 255, 0.5)';
                counter.style.background = 'rgba(0, 0, 0, 0.4)';
            }
        });
    }

    function getDeviceId() {
        let deviceId = localStorage.getItem('device_id');
        if (!deviceId) {
            deviceId = 'device_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem('device_id', deviceId);
        }
        return deviceId;
    }

    function validateStep1() {
        const name = document.getElementById('fullName').value.trim();
        const age = document.getElementById('age').value;
        const gameUsername = document.getElementById('gameUsername').value.trim();
        const discordUsername = document.getElementById('discordUsername').value.trim();
        const gameId = document.getElementById('gameId').value.trim();

        const arabicRegex = /^[\u0600-\u06FF\s]+$/;
        const words = name.split(/\s+/);
        
        if (!name || words.length < 3) {
            showAlert('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø§Ø³Ù… Ø«Ù„Ø§Ø«ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ (Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ + Ø§Ø³Ù… Ø§Ù„Ø£Ø¨ + Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©)', false);
            return;
        }
        
        if (!arabicRegex.test(name)) {
            showAlert('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙ‚Ø·', false);
            return;
        }
        
        if (!age || age < 18) {
            showAlert('Ø§Ù„Ø¹Ù…Ø± ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 18 Ø³Ù†Ø© Ø£Ùˆ Ø£ÙƒØ«Ø±', false);
            return;
        }
        
        if (!gameUsername) {
            showAlert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©', false);
            return;
        }
        
        if (!discordUsername) {
            showAlert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯', false);
            return;
        }
        
        if (!gameId || gameId.length !== 10 || !/^\d+$/.test(gameId)) {
            showAlert('Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù… Ø¨Ø§Ù„Ø¶Ø¨Ø·', false);
            return;
        }
        
        if (!uploadedNationalId) {
            showAlert('ÙŠØ±Ø¬Ù‰ Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø©', false);
            return;
        }
        
        if (!uploadedCharacterImage) {
            showAlert('ÙŠØ±Ø¬Ù‰ Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØªÙƒ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø©', false);
            return;
        }

        showStep2();
    }

    function showStep2() {
        document.getElementById('step1').style.display = 'none';
        document.getElementById('step2').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function goBackToStep1() {
        document.getElementById('step2').style.display = 'none';
        document.getElementById('step1').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function selectDepartment(element, departmentId) {
        document.querySelectorAll('.department-card').forEach(card => {
            card.classList.remove('selected');
        });
        element.classList.add('selected');
        selectedDepartment = departmentId;
    }

    function resetDepartmentSelection() {
        document.querySelectorAll('.department-card').forEach(card => {
            card.classList.remove('selected');
        });
        selectedDepartment = null;
    }

    function showStep3() {
        if (!selectedDepartment) {
            showAlert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØµÙ†ÙŠÙ Ø£ÙˆÙ„Ø§Ù‹', false);
            return;
        }

        const container = document.getElementById('ranksContainer');
        const department = DEPARTMENTS[selectedDepartment];
        
        if (selectedDepartment === 'citizen') {
            selectedRank = 'Ù…ÙˆØ§Ø·Ù†';
            showStep4();
            return;
        }
        
        container.innerHTML = `
            <h4 style="color: ${department.color}; margin-bottom: 30px; text-align: center; font-size: 22px; font-weight: 700;">
                <i class="fas fa-arrow-up" style="margin-left: 10px;"></i>
                Ø§Ø®ØªØ± Ø±ØªØ¨ØªÙƒ ÙÙŠ ${department.name}
            </h4>
            <div class="ranks-grid">
                ${department.ranks.map(rank => `
                    <div class="rank-item" onclick="selectRank(this, '${rank}')">
                        ${rank}
                    </div>
                `).join('')}
            </div>
        `;

        document.getElementById('step2').style.display = 'none';
        document.getElementById('step3').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function selectRank(element, rank) {
        document.querySelectorAll('.rank-item').forEach(item => {
            item.classList.remove('selected');
        });
        element.classList.add('selected');
        selectedRank = rank;
    }

    function goBackToStep2() {
        document.getElementById('step3').style.display = 'none';
        document.getElementById('step2').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showStep4() {
        if (!selectedRank) {
            showAlert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø±ØªØ¨Ø© Ø£ÙˆÙ„Ø§Ù‹', false);
            return;
        }

        const container = document.getElementById('additionalContainer');
        const department = DEPARTMENTS[selectedDepartment];
        
        if (selectedDepartment === 'citizen') {
            selectedAdditionals = [];
            showStep5();
            return;
        }
        
        container.innerHTML = `
            <h4 style="color: ${department.color}; margin-bottom: 30px; text-align: center; font-size: 22px; font-weight: 700;">
                <i class="fas fa-layer-group" style="margin-left: 10px;"></i>
                Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø§ØµØ¨ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            </h4>
            <p style="text-align: center; color: var(--gray-light); margin-bottom: 30px;">
                <i class="fas fa-info-circle"></i>
                ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ù†ØµØ¨ Ø¥Ø¯Ø§Ø±ÙŠ Ø£Ùˆ ØªØ®Ø·ÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ©
            </p>
            <div class="additionals-grid">
                ${department.additionals.map((additional, index) => `
                    <div class="additional-item" onclick="toggleAdditionalPost(this, '${additional}')">
                        <input type="checkbox" id="add_${index}">
                        <label for="add_${index}">
                            <i class="fas fa-briefcase"></i>
                            <span>${additional}</span>
                        </label>
                    </div>
                `).join('')}
            </div>
        `;

        document.getElementById('step3').style.display = 'none';
        document.getElementById('step4').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function toggleAdditionalPost(element, post) {
        element.classList.toggle('selected');
        const index = selectedAdditionals.indexOf(post);
        if (index === -1) {
            selectedAdditionals.push(post);
        } else {
            selectedAdditionals.splice(index, 1);
        }
    }

    function goBackToStep3() {
        document.getElementById('step4').style.display = 'none';
        document.getElementById('step3').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showStep5() {
        const summaryContainer = document.getElementById('requestSummary');
        const department = DEPARTMENTS[selectedDepartment];
        
        let summaryHTML = `
            <div class="summary-item">
                <div class="label"><i class="fas fa-user"></i> Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</div>
                <div class="value">${document.getElementById('fullName').value}</div>
            </div>
            <div class="summary-item">
                <div class="label"><i class="fas fa-calendar-alt"></i> Ø§Ù„Ø¹Ù…Ø±</div>
                <div class="value">${document.getElementById('age').value} Ø³Ù†Ø©</div>
            </div>
            <div class="summary-item">
                <div class="label"><i class="fas fa-gamepad"></i> Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø§Ù„Ù„Ø¹Ø¨Ø©)</div>
                <div class="value">${document.getElementById('gameUsername').value}</div>
            </div>
            <div class="summary-item">
                <div class="label"><i class="fab fa-discord"></i> Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯)</div>
                <div class="value">${document.getElementById('discordUsername').value}</div>
            </div>
            <div class="summary-item">
                <div class="label"><i class="fas fa-fingerprint"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©</div>
                <div class="value">${document.getElementById('gameId').value}</div>
            </div>
            <div class="summary-item">
                <div class="label"><i class="fas fa-id-badge"></i> Ø§Ù„ØªØµÙ†ÙŠÙ</div>
                <div class="value">${department.name}</div>
            </div>
        `;
        
        if (selectedDepartment !== 'citizen') {
            summaryHTML += `
                <div class="summary-item">
                    <div class="label"><i class="fas fa-medal"></i> Ø§Ù„Ø±ØªØ¨Ø©</div>
                    <div class="value">${selectedRank}</div>
                </div>
            `;
        }
        
        if (selectedAdditionals.length > 0) {
            summaryHTML += `
                <div class="summary-item" style="grid-column: 1 / -1;">
                    <div class="label"><i class="fas fa-briefcase"></i> Ø§Ù„Ù…Ù†Ø§ØµØ¨ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©</div>
                    <div class="value">${selectedAdditionals.join(' â€¢ ')}</div>
                </div>
            `;
        }
        
        summaryContainer.innerHTML = summaryHTML;

        document.getElementById('step4').style.display = 'none';
        document.getElementById('step5').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function goBackToStep4() {
        document.getElementById('step5').style.display = 'none';
        document.getElementById('step4').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function submitRequest() {
        const terms1 = document.getElementById('agreeTerms1');
        const terms2 = document.getElementById('agreeTerms2');
        const terms3 = document.getElementById('agreeTerms3');
        
        if (!terms1.checked || !terms2.checked || !terms3.checked) {
            showAlert('ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø±ÙˆØ· Ù‚Ø¨Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨', false);
            return;
        }

        const requestData = {
            id: 'KR-' + Date.now().toString().slice(-8) + Math.random().toString(36).substr(2, 4).toUpperCase(),
            fullName: document.getElementById('fullName').value.trim(),
            age: parseInt(document.getElementById('age').value),
            gameUsername: document.getElementById('gameUsername').value.trim(),
            discordUsername: document.getElementById('discordUsername').value.trim(),
            gameId: document.getElementById('gameId').value.trim(),
            department: selectedDepartment,
            departmentName: DEPARTMENTS[selectedDepartment].name,
            rank: selectedRank,
            additionals: selectedAdditionals,
            nationalIdImage: uploadedNationalId,
            characterImage: uploadedCharacterImage,
            date: new Date().toLocaleString('ar-SA', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            }),
            submissionDate: new Date().toISOString(),
            status: 'pending',
            deviceId: getDeviceId()
        };

        let adminRequests = JSON.parse(localStorage.getItem('admin_pending_requests') || '[]');
        adminRequests.unshift(requestData);
        localStorage.setItem('admin_pending_requests', JSON.stringify(adminRequests));

        hasExistingRequest = true;
        existingRequestData = requestData;

        showSuccessMessage(requestData);
    }

    function showSuccessMessage(requestData) {
        const form = document.getElementById('applicationForm');
        const successMessage = document.getElementById('successMessage');
        const successDetails = document.getElementById('successDetails');
        
        successDetails.innerHTML = `
            <div style="background: rgba(0,0,0,0.3); border-radius: 20px; padding: 35px; margin: 35px 0; border: 1px solid rgba(255,255,255,0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 18px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <span style="color: var(--gray-light);"><i class="fas fa-hashtag"></i> Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</span>
                    <span style="font-weight: 800; font-size: 20px; color: var(--accent);">${requestData.id}</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 18px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <span style="color: var(--gray-light);"><i class="fas fa-calendar"></i> ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…:</span>
                    <span style="font-weight: 600;">${requestData.date}</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 18px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <span style="color: var(--gray-light);"><i class="fas fa-building"></i> Ø§Ù„ÙˆØ²Ø§Ø±Ø©:</span>
                    <span style="font-weight: 600;">${requestData.departmentName}</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 18px 0;">
                    <span style="color: var(--gray-light);"><i class="fas fa-info-circle"></i> Ø§Ù„Ø­Ø§Ù„Ø©:</span>
                    <span style="color: var(--warning); font-weight: 700; font-size: 18px;">
                        <i class="fas fa-clock"></i> Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
                    </span>
                </div>
            </div>
        `;
        
        form.style.display = 'none';
        successMessage.style.display = 'block';
        successMessage.classList.add('show');
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function checkRequestStatus() {
        location.reload();
    }

    function goToHomePage() {
        window.location.href = 'index.html';
    }

    function validateGameId(input) {
        const arabicNumbers = ['Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©'];
        const englishNumbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];
        
        let value = input.value;
        
        arabicNumbers.forEach((arabicNum, index) => {
            value = value.split(arabicNum).join(englishNumbers[index]);
        });
        
        value = value.replace(/[^0-9]/g, '');
        input.value = value;
    }

    function handleImageUpload(input, previewId) {
        const file = input.files[0];
        const previewContainer = document.getElementById(previewId);
        
        if (!file) {
            return;
        }
        
        const allowedTypes = ['image/png', 'image/jpeg', 'image/jpg'];
        if (!allowedTypes.includes(file.type)) {
            showAlert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø¨ØµÙŠØºØ© PNG Ø£Ùˆ JPG ÙÙ‚Ø·', false);
            input.value = '';
            return;
        }
        
        const maxSize = 5 * 1024 * 1024;
        if (file.size > maxSize) {
            showAlert('Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£Ù‚Ù„ Ù…Ù† 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª', false);
            input.value = '';
            return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
            const imageData = e.target.result;
            
            if (previewId === 'nationalIdPreview') {
                uploadedNationalId = {
                    name: file.name,
                    size: file.size,
                    type: file.type,
                    data: imageData
                };
            } else if (previewId === 'characterPreview') {
                uploadedCharacterImage = {
                    name: file.name,
                    size: file.size,
                    type: file.type,
                    data: imageData
                };
            }
            
            previewContainer.innerHTML = `
                <img src="${imageData}" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">
                <div class="remove-image" onclick="removeImage('${previewId}', '${input.id}')">
                    <i class="fas fa-times"></i>
                </div>
                <div class="image-info">
                    <i class="fas fa-check-circle"></i>
                    <span>ØªÙ… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­ (${formatFileSize(file.size)})</span>
                </div>
            `;
            previewContainer.classList.add('show');
        };
        reader.readAsDataURL(file);
    }

    function removeImage(previewId, inputId) {
        const previewContainer = document.getElementById(previewId);
        const inputElement = document.getElementById(inputId);
        
        previewContainer.innerHTML = '';
        previewContainer.classList.remove('show');
        inputElement.value = '';
        
        if (previewId === 'nationalIdPreview') {
            uploadedNationalId = null;
        } else if (previewId === 'characterPreview') {
            uploadedCharacterImage = null;
        }
        
        showAlert('ØªÙ… Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø©', true);
    }

    function formatFileSize(bytes) {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
    }

    function showAlert(message, isSuccess) {
        const alertBox = document.getElementById('alertBox');
        alertBox.innerHTML = `
            <i class="fas fa-${isSuccess ? 'check-circle' : 'exclamation-triangle'}" 
               style="font-size: 24px; margin-bottom: 10px;"></i>
            <div>${message}</div>
        `;
        alertBox.className = 'alert';
        
        if (isSuccess) {
            alertBox.classList.add('success');
        } else {
            alertBox.classList.add('warning');
        }
        
        alertBox.classList.add('show');
        
        setTimeout(() => {
            alertBox.classList.remove('show');
        }, 4000);
    }
</script>
```

</body>
</html>
